<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UnifoLM-WMA-0: A World-Model-Action(WMA) Framework under UnifoLM Family</title>
  <style>
    :root{
        --dot: transparent;
        --dot-border:#000;
        --center-scale:1.5;
        --tile-max: 210px;  /* desired full size */
        --tile-min: 100px;
    }
    .carousel{
        max-width: 1040px;
        margin: 6vh auto;
        padding: 0 16px;
        perspective: 1200px; 
    }
    .track{
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 48px;
        align-items: center;
    }

    .card{
        position: relative;
        aspect-ratio: 16 / 9;
        border-radius: 18px;
        overflow: hidden;
        transition: transform .4s ease, filter .4s ease, opacity .4s ease, box-shadow .4s ease, border-color .4s ease;
        box-shadow: 0 10px 30px rgba(0,0,0,.35);
        border: 0.5px solid transparent;
    }
    .card video{
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }
    /* ä¸­é—´é«˜äº®ï¼Œå·¦å³å˜æš—å¹¶ç•¥å¾®å€¾æ–œ */
    .card.is-center{
        transform: translateZ(0) scale(var(--center-scale));
        filter: brightness(1);
        opacity: 1;
        border-color: var(--border);
    }
    .card.is-left{
        transform: rotateY(12deg) scale(.7);
        filter: brightness(.55);
        opacity: .7;
    }
    .card.is-right{
        transform: rotateY(-12deg) scale(.7);
        filter: brightness(.55);
        opacity: .7;
    }
    /* åº•éƒ¨æ–‡æ¡ˆä¸åœ†ç‚¹ */
    .caption{
        text-align:center;
        color: #666;
        font-size: 0.9rem; 
        margin: 22px 0 10px;
    }
    .dots{
        display:flex;
        justify-content:center;
        gap:12px;
        margin-top:30px;
    }
    .dot{
        appearance: none;
        -webkit-appearance: none;
        padding: 0;
        margin: 0;
        border: 0.5px solid #000;

        /* force a true circle */
        width: 6px;             /* make width == height */
        height: 6px;
        aspect-ratio: 1 / 1;     /* belt & suspenders */
        border-radius: 50%;
        box-sizing: content-box; /* so border doesn't skew the circle */
        background: transparent;
        display: inline-block;   /* avoid inline button quirks */
        line-height: 0;          /* kill text line-height expansion */
        min-width: 0;            /* neutralize UA min sizes */

        cursor: pointer;
        transition: transform .2s ease, background .2s ease, width .2s ease, border-color .2s ease;
    }
    .dot[aria-current="true"]{
        width: 34px;
        height: 6px;            /* keep same height so it becomes a pill */
        border-radius: 999px;
        background: linear-gradient(270deg,#f5f5f5 0%,#d9d9d9 25%,#b3b3b3 50%,#8c8c8c 75%,#5c5c5c 100%);
        border: 0.5px solid #555;
    }

    /* optional focus style (keyboard a11y) */
    .dot:focus-visible{
      outline: 2px solid #888;
      outline-offset: 2px;
    }

    @media (max-width: 860px){
        .track{ grid-template-columns: 1fr; gap:14px; }
        .card.is-left,.card.is-right{ transform: scale(.94); }
    }
    @media (max-width: 860px){ :root { --center-scale: 1.08; } }
    
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      line-height: 1.6;
      color: #222;
    }

    header {
      text-align: center;
      padding: 3rem 1rem 1rem;
    }

    header h1 {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }

    header p {
      color: #666;
      font-size: 0.9rem;
    }

    .code-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background-color: #24292f; /* GitHub dark gray */
      color: white;
      /* â†“ reduced padding ~20% */
      padding: 0.45rem 0.95rem;
      border-radius: 1.6rem;       /* keep pill shape proportional */
      font-size: 1rem;
      font-family: Arial, sans-serif;
      text-decoration: none;
      transition: background 0.2s;
    }

    .code-btn:hover {
      background-color: #2f363d;
    }

    .code-btn .code-icon {
      width: 18px;
      height: 18px; /* keep logo original size */
    }

    /* Language toggle button */
    .lang-toggle {
      position: absolute;
      top: 1rem;
      right: 1rem;
      cursor: pointer;
      font-size: 1rem;
      background: none;
      border: none;
      color: #0077cc;
    }

    /* 4x4 grid */
    .image-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(var(--tile-min), 1fr));
      justify-content: center;
      align-items: center;
      gap: 5px;
      padding: 1rem;
      max-width: calc(4 * var(--tile-max) + 3 * 8px);
      margin-inline: auto;
    }

    .image-grid img,
    .image-grid video {
      width: 100%;
      height: auto;
      object-fit: contain;
      border-radius: 4px;
      display: block;
      margin: 0 auto; 
    }

    .section {
      max-width: 800px;
      margin: 2rem auto;
      padding: 0 1rem;
      color: #666;
      font-size: 0.9rem;
    }
    .section p {
      text-align: justify;
      color: #666;
      font-size: 0.9rem;
    }

    .section h2 {
      margin-top: 2rem;
      font-size: 1.6rem;
    }

    .video-container {
      position: relative;
      padding-bottom: 56.25%; /* 16:9 */
      height: 0;
      overflow: hidden;
      max-width: 100%;
      margin: 2rem 0;
      border-radius: 8px;
    }

    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      object-fit: cover; /* optional: makes sure video fills nicely */
      border-radius: 8px; /* match the containerâ€™s rounded corners */
    }
    /* Language visibility */
    .lang {
      display: none;
    }
    .lang.en {
      display: block;
    }

    .pair-gallery {
      position: relative;
      max-width: 1040px;
      margin: 40px auto 80px;
      padding: 0 16px;
    }
    #pair-grid {
      max-width: 800px;   /* shrink overall gallery width */
      margin: 0 auto;     /* center horizontally */
    }
    .pair-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    .pair-card {
      position: relative;
      aspect-ratio: 4 / 3;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 24px rgba(0,0,0,.25);
      background: #000;
    }
    .pair-card video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .pair-controls {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);  /* center the overlay */
      width: min(800px, 100%);      /* same as #pair-grid max width */
      height: 100%;
      pointer-events: none; /* container ignores clicks so only buttons get them */
    }
    .nav-btn {
      pointer-events: auto;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      border: none;
      background: rgba(0,0,0,.55);
      color: #fff;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      cursor: pointer;
      transition: background .2s ease, opacity .2s ease;
      opacity: 0.9;
    }
    .nav-btn:hover { background: rgba(0,0,0,.75); }
    .nav-left  { left: 0; transform: translate(-50%, -50%); }
    .nav-right { right: 0; transform: translate(-20%, -20%); }
    .nav-btn[hidden] { display: none; }

    @media (max-width: 400px){
      .pair-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <!-- Language Switch -->
  <button class="lang-toggle" onclick="toggleLanguage()">ğŸŒ English | ğŸ‡¨ğŸ‡³ ä¸­æ–‡</button>

  <header>
    <h1 class="lang en">UnifoLM-WMA-0: A World-Model-Action(WMA) Framework <br> under UnifoLM Family</h1>
    <h1 class="lang zh">UnifoLM-WMA-0: UnifoLM ç³»åˆ—ä¸‹çš„ä¸–ç•Œæ¨¡å‹-åŠ¨ä½œï¼ˆWMAï¼‰æ¶æ„</h1>

    <a href="https://unigen-x.github.io/unifolm-world-model-action.github.io/" class="code-btn">
      <svg xmlns="https://unigen-x.github.io/unifolm-world-model-action.github.io/" class="code-icon" viewBox="0 0 24 24" fill="white">
        <path d="M12 .297c-6.63 0-12 5.373-12 12 
          0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 
          0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61
          -.546-1.385-1.333-1.754-1.333-1.754-1.09-.745.083-.729.083-.729 
          1.205.084 1.84 1.236 1.84 1.236 
          1.07 1.835 2.807 1.304 3.492.997.108-.776.418-1.305.762-1.605
          -2.665-.3-5.466-1.332-5.466-5.93 
          0-1.31.468-2.38 1.236-3.22-.123-.303-.536-1.523.117-3.176 
          0 0 1.008-.322 3.3 1.23a11.48 11.48 0 013.003-.404 
          c1.02.005 2.047.138 3.003.404 
          2.291-1.552 3.297-1.23 3.297-1.23 
          .653 1.653.24 2.873.117 3.176.77.84 
          1.236 1.91 1.236 3.22 
          0 4.61-2.803 5.625-5.475 5.92.43.372.823 1.102.823 2.222 
          0 1.606-.015 2.896-.015 3.286 
          0 .317.216.687.825.57C20.565 22.092 24 17.592 24 12.297 
          c0-6.627-5.373-12-12-12"/>
      </svg>
      Code(coming soon)
    </a>

    <p class="lang en">5 Sep 2025</p>
    <p class="lang zh">2025å¹´9æœˆ5æ—¥</p>

    <p class="lang en">Unitree Embodied AI R&D Team</p>
    <p class="lang zh">å®‡æ ‘ç§‘æŠ€å…·èº«æ™ºèƒ½ç ”å‘å›¢é˜Ÿ</p>
  </header>

  <!-- Intro Section -->
  <section class="section">
    <p class="lang en"> <b>UnifoLM-WMA-0</b> is Unitreeâ€˜s first open-source world-modelâ€“action architecture spanning multiple types of robotic embodiments, designed specifically for general-purpose robot learning. Its core component is a world-model capable of understanding the physical interactions between robots and their environments. This world-model provides two key functions: (a) <b>Simulation Engine</b> â€“ operates as an interactive simulator to generate synthetic data for robot learning; (b) <b>Policy Enhancement</b> â€“ connects with an action head and, by predicting future interaction processes with the world-model, further optimizes decision-making performance. The deployment effect on the real robot is shown below, where the small window in the upper-right corner displays the world modelâ€™s prediction of future environmental changes, which assists in generating control commands.</p>
    <p class="lang zh"> <b>UnifoLM-WMA-0</b> æ˜¯å®‡æ ‘ç§‘æŠ€é¦–ä¸ªè·¨å¤šç±»æœºå™¨äººæœ¬ä½“çš„å¼€æºä¸–ç•Œæ¨¡å‹åŠ¨ä½œæ¶æ„ï¼Œä¸“ä¸ºé€šç”¨æœºå™¨äººå­¦ä¹ è€Œè®¾è®¡ã€‚å…¶æ ¸å¿ƒæˆåˆ†åœ¨äºä¸€ä¸ªå¯ä»¥ç†è§£æœºå™¨äººä¸ç¯å¢ƒäº¤äº’ç‰©ç†è§„å¾‹çš„ä¸–ç•Œæ¨¡å‹ã€‚è¯¥ä¸–ç•Œæ¨¡å‹å…·å¤‡ä¸¤å¤§æ ¸å¿ƒåŠŸèƒ½ï¼šï¼ˆ1ï¼‰<b>ä»¿çœŸå¼•æ“</b>ï¼Œä½œä¸ºäº¤äº’å¼ä»¿çœŸå™¨è¿è¡Œï¼Œä¸ºæœºå™¨äººå­¦ä¹ ç”Ÿæˆåˆæˆæ•°æ®;ï¼ˆ2ï¼‰<b>ç­–ç•¥å¢å¼º</b>ï¼Œå¯ä¸ä¸€ä¸ªåŠ¨ä½œå¤´è¿›è¡Œå¯¹æ¥ï¼Œé€šè¿‡é¢„æµ‹æœªæ¥ä¸ç‰©ç†ä¸–ç•Œçš„äº¤äº’è¿‡ç¨‹ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–å†³ç­–æ€§èƒ½ã€‚æ¨¡å‹çš„çœŸæœºéƒ¨ç½²æ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼Œå…¶ä¸­å³ä¸Šè§’å°çª—å£ä¸ºä¸–ç•Œæ¨¡å‹å¯¹äºæœªæ¥ç¯å¢ƒå˜åŒ–çš„é¢„æµ‹ï¼Œè¾…åŠ©æ§åˆ¶æŒ‡ä»¤ç”Ÿæˆã€‚</p>
  </section>

  <div class="carousel">
    <div class="track" id="track">
        <div class="card" data-index="0">
            <video src="assets/videos/real_exp/real_z1_stackbox.MP4" muted loop playsinline></video>
        </div>
        <div class="card" data-index="1">
            <video src="assets/videos/real_exp/real_cleanup_pencils.MP4" muted loop playsinline></video>
        </div>
        <div class="card" data-index="2">
            <video src="assets/videos/real_exp/real_g1_pack_camera.mp4" muted loop playsinline></video>
        </div>
        <div class="card" data-index="3">
            <video src="assets/videos/real_exp/real_dual_stackbox.mp4" muted autoplay loop playsinline></video>
        </div>
    </div>
 </div>

  <div class="caption" id="caption" role="status" aria-live="polite">
    <p class="lang en" id="cap-en"></p>
    <p class="lang zh" id="cap-zh" style="display:none"></p>
  </div>

  <div class="dots" id="dots" role="tablist" aria-label="video pagination">
    <button class="dot" aria-label="Video 1" aria-current="false" data-go="0"></button>
    <button class="dot" aria-label="Video 2" aria-current="false" data-go="1"></button>
    <button class="dot" aria-label="Video 3" aria-current="false" data-go="2"></button>
    <button class="dot" aria-label="Video 4" aria-current="false" data-go="3"></button>
  </div>

  <script>
    (() => {
      const track = document.getElementById('track');
      const cards = [...track.querySelectorAll('.card')];
      const dots  = [...document.querySelectorAll('.dot')];
      const n = cards.length;

      const capEn = document.getElementById('cap-en');
      const capZh = document.getElementById('cap-zh');

      const captions = {
        en: [
          "Stack the blocks in the rectangular block: red at the bottom, yellow in the middle, green on top.",
          "Clean-up eraser and pencils.",
          "Pack black camera into box.",
          "Stack the blocks in the rectangular block: red at the bottom, yellow in the middle, green on top.",
        ],
        zh: [
          "å°†æœ¨å—ä»¥çº¢é»„ç»¿çš„é¡ºåºå è½ã€‚",
          "æ•´ç†æ©¡çš®å’Œç¬”ã€‚",
          "å°†é»‘è‰²çš„ç›¸æœºæ”¾å…¥åŒ…è£…ç›’ã€‚",
          "å°†æœ¨å—ä»¥çº¢é»„ç»¿çš„é¡ºåºå è½ã€‚",
        ]
      };

      let current = 1; // start with 2nd video centered

      function render(){
        const left   = current > 0     ? current - 1 : null;
        const center = current;
        const right  = current < n - 1 ? current + 1 : null;

        cards.forEach((c,i)=>{
          // reset grid placement & classes
          c.classList.remove('is-left','is-center','is-right');
          c.style.gridColumn = '';
          c.style.display = 'none';
        });

        // helper to place a card in a given column (1|2|3) & class
        const place = (idx, col, cls) => {
          if (idx === null) return;
          const c = cards[idx];
          c.style.display = '';
          c.style.gridColumn = String(col); // (1, 2, or 3)
          c.classList.add(cls);
        };

        // place visible neighbors explicitly into the 3 columns
        place(left,   1, 'is-left');
        place(center, 2, 'is-center');
        place(right,  3, 'is-right');

        // play center, pause others
        cards.forEach((c,i)=>{
          const v = c.querySelector('video'); if(!v) return;
          if (i===center) v.play().catch(()=>{});
          else { v.pause(); v.currentTime = 0; }
        });

        // dots & captions
        dots.forEach((d,i)=> d.setAttribute('aria-current', i===center ? 'true' : 'false'));
        if (capEn) capEn.textContent = captions.en[center] || "";
        if (capZh) capZh.textContent = captions.zh[center] || "";
      }
      // clamp to [0, n-1] â€” no rolling animation, no wrap
      function goTo(target){
        const t = Math.max(0, Math.min(n-1, Number(target)));
        if (!Number.isNaN(t)) {
          current = t;
          render();
        }
      }

      dots.forEach(dot=>{
        dot.addEventListener('click', e=>{
          goTo(e.currentTarget.dataset.go);
        });
      });

      render();
    })();
  </script>

  <section class="section">
    <p class="lang en"> <b>Fine-tuning the Video Generation Model</b>: First, we fine-tune the video generation model on the Open-X dataset to adapt its generative capability to robotic operation scenarios. The model takes images and text instructions as input and generates future action videos corresponding to the text instructions. The generation results of the fine-tuned model on the test set are as follows:</p>
    <p class="lang zh"> <b>å¾®è°ƒè§†é¢‘ç”Ÿæˆæ¨¡å‹</b>ï¼š é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ Open-X æ•°æ®é›†ä¸Šå¾®è°ƒè§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼Œå°†å…¶ç”Ÿæˆèƒ½åŠ›é€‚é…è‡³æœºå™¨äººä½œä¸šåœºæ™¯ã€‚ æ¨¡å‹æ¥æ”¶å›¾åƒåŠæ–‡æœ¬æŒ‡ä»¤ï¼Œç”Ÿæˆä¸æ–‡æœ¬æŒ‡ä»¤å¯¹åº”çš„æœªæ¥åŠ¨ä½œè§†é¢‘ã€‚å¾®è°ƒæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„ç”Ÿæˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
  </section>

  <!-- 4x4 Image Grid -->
  <section class="image-grid">
    <img src="assets/gifs/open-x/0.gif" alt="Open-X 0">
    <img src="assets/gifs/open-x/1.gif" alt="Open-X 1">
    <img src="assets/gifs/open-x/2.gif" alt="Open-X 2">
    <img src="assets/gifs/open-x/3.gif" alt="Open-X 3">
    <img src="assets/gifs/open-x/4.gif" alt="Open-X 4">
    <img src="assets/gifs/open-x/5.gif" alt="Open-X 5">
    <img src="assets/gifs/open-x/6.gif" alt="Open-X 6">
    <img src="assets/gifs/open-x/7.gif" alt="Open-X 7">
    <img src="assets/gifs/open-x/8.gif" alt="Open-X 8">
    <img src="assets/gifs/open-x/9.gif" alt="Open-X 9">
    <img src="assets/gifs/open-x/10.gif" alt="Open-X 10">
    <img src="assets/gifs/open-x/11.gif" alt="Open-X 11">
    <img src="assets/gifs/open-x/12.gif" alt="Open-X 12">
    <img src="assets/gifs/open-x/13.gif" alt="Open-X 13">
    <img src="assets/gifs/open-x/14.gif" alt="Open-X 14">
    <img src="assets/gifs/open-x/15.gif" alt="Open-X 15">
  </section>

  <section class="section">
    <p class="lang en"> <b>UnifoLM-WMA-0</b> Architecture: We propose a world-modelâ€“embedded policy architecture. This framework enables the world model to operate in two modes: (1) <b>Decision-Making Mode</b>: Provides predictive information to assist the policy in generating actions. (2) <b>Simulation Mode</b>: Generates high-fidelity environmental feedback based on robot actions. The complete system architecture is shown as follows: </p>
    <p class="lang zh"> <b>UnifoLM-WMA-0</b> æ¶æ„: æˆ‘ä»¬æå‡ºäº†ä¸€ç§ä¸–ç•Œæ¨¡å‹åµŒå…¥å¼ç­–ç•¥æ¶æ„ã€‚è¯¥æ–¹æ¡ˆä½¿ä¸–ç•Œæ¨¡å‹æ”¯æŒåŒæ¨¡å¼è¿è¡Œï¼š(1) <b>å†³ç­–æ¨¡å¼</b>ï¼šæä¾›é¢„æµ‹ä¿¡æ¯è¾…åŠ©ç­–ç•¥ç”ŸæˆåŠ¨ä½œï¼›(2) <b>ä»¿çœŸæ¨¡å¼</b>ï¼šåŸºäºæœºå™¨äººåŠ¨ä½œç”Ÿæˆé«˜ä¿çœŸç¯å¢ƒåé¦ˆã€‚å®Œæ•´ç³»ç»Ÿæ¶æ„å¦‚ä¸‹æ‰€ç¤ºï¼š </p>
  </section>

  <!-- Video Section -->
  <section class="section">
    <div class="video-container">
      <video autoplay muted loop playsinline preload="auto">
        <source src="assets/videos/UnifoLM_WMA_0.mp4" type="video/mp4">
      </video>
    </div>
  </section>

  <section class="section">
    <p class="lang en"> <b>UnifoLM-WMA-0</b> Action Controllable Generation: We trained the model on five <a href="https://huggingface.co/unitreerobotics" target="_blank" rel="noopener noreferrer">open-source datasets from Unitree Robotics</a>. Test results show that, as a simulation engine, the model can achieve interactive controllable generation based on the current image and a certain number of future robot actions. The generated results and the original videos are shown below:</p>
    <p class="lang zh"> <b>UnifoLM-WMA-0</b> åŠ¨ä½œå¯æ§ç”Ÿæˆ: æˆ‘ä»¬åœ¨äº”ä¸ª<a href="https://huggingface.co/unitreerobotics" target="_blank" rel="noopener noreferrer">å®‡æ ‘ç§‘æŠ€å¼€æºæ•°æ®é›†</a>ä¸Šå®Œæˆæ¨¡å‹è®­ç»ƒï¼Œæµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œæ¨¡å‹ä½œä¸ºä»¿çœŸå¼•æ“ï¼Œå¯æ ¹æ®"å½“å‰å›¾åƒ"åŠä¸€å®šæ•°é‡çš„â€œæœºå™¨äººæœªæ¥åŠ¨ä½œâ€ï¼Œå®ç°äº¤äº’å¯æ§ç”Ÿæˆã€‚ç”Ÿæˆç»“æœåŠåŸè§†é¢‘å±•ç¤ºå¦‚ä¸‹æ‰€ç¤º:</p>
  </section>

  <section class="section">
    <p class="lang en"> <b>UnifoLM-WMA-0</b> Long-Term Interactive Generation: The model also has the capability to perform long-term interactive generation for long-horizon tasks. A comparison between the generated results and the original videos is shown below:</p>
    <p class="lang zh"> <b>UnifoLM-WMA-0</b> æŒç»­äº¤äº’ç”Ÿæˆï¼šæˆ‘ä»¬çš„ä¸–ç•Œæ¨¡å‹ä¹Ÿæœ‰èƒ½åŠ›å®ç°é•¿ç¨‹ä»»åŠ¡çš„æŒç»­äº¤äº’ç”Ÿæˆï¼Œç”Ÿæˆç»“æœä¸åŸè§†é¢‘å¯¹æ¯”å¦‚ä¸‹æ‰€ç¤º:</p>
  </section>

  <section class="pair-gallery" aria-label="Additional Results (2 per group)">
    <div class="pair-grid" id="pair-grid">
        <video src="assets/videos/gen_long_term/ori_z1_stackbox.mp4" muted loop playsinline autoplay controls></video>
        <video src="assets/videos/gen_long_term/gen_z1_stackbox.mp4" muted loop playsinline autoplay controls></video>
    </div>
    <!-- side buttons -->
    <div class="pair-controls" aria-hidden="false">
      <button class="nav-btn nav-left"  id="pair-prev" aria-label="Previous group">
        &#9664;
      </button>
      <button class="nav-btn nav-right" id="pair-next" aria-label="Next group">
        &#9654;
      </button>
    </div>
  </section>

  <script>
    let currentLang = "en"; // default English
    function toggleLanguage() {
      const enTexts = document.querySelectorAll('.lang.en');
      const zhTexts = document.querySelectorAll('.lang.zh');
      if (currentLang === "en") {
        enTexts.forEach(el => el.style.display = "none");
        zhTexts.forEach(el => el.style.display = "block");
        currentLang = "zh";
      } else {
        zhTexts.forEach(el => el.style.display = "none");
        enTexts.forEach(el => el.style.display = "block");
        currentLang = "en";
      }
    }
    // =========================
    // NEW: 2-Column Pair Gallery Logic
    // =========================
    (function(){
      // TODO: replace these with your 10 video paths (5 groups Ã— 2 videos)
      const pairs = [
        ["assets/videos/gen_long_term/ori_z1_stackbox.mp4",  "assets/videos/gen_long_term/gen_z1_stackbox.mp4"],
        ["assets/videos/gen_long_term/ori_z1_stackbox.mp4",  "assets/videos/gen_long_term/gen_z1_stackbox.mp4"],
      ];

      const grid = document.getElementById('pair-grid');
      const prevBtn = document.getElementById('pair-prev');
      const nextBtn = document.getElementById('pair-next');
      const indicator = document.getElementById('pair-indicator');

      let idx = 0; // start at first group

      function makeCard(src){
        const wrap = document.createElement('div');
        wrap.className = 'pair-card';
        const v = document.createElement('video');
        v.src = src;
        v.muted = true;
        v.loop = true;
        v.playsInline = true;
        v.autoplay = true; // will try; some browsers require user gesture but muted helps
        wrap.appendChild(v);
        return {wrap, v};
      }

      function pauseAll(){
        grid.querySelectorAll('video').forEach(v => { v.pause(); v.currentTime = 0; });
      }

      function render(){
        // clear existing
        pauseAll();
        grid.innerHTML = '';

        const [leftSrc, rightSrc] = pairs[idx];
        const left  = makeCard(leftSrc);
        const right = makeCard(rightSrc);

        grid.appendChild(left.wrap);
        grid.appendChild(right.wrap);

        // attempt to play both (browsers may block, but muted usually OK)
        left.v.play().catch(()=>{});
        right.v.play().catch(()=>{});

        // show/hide arrows
        prevBtn.hidden = (idx === 0);
        nextBtn.hidden = (idx === pairs.length - 1);

      }

      prevBtn.addEventListener('click', () => { if (idx > 0) { idx--; render(); } });
      nextBtn.addEventListener('click', () => { if (idx < pairs.length - 1) { idx++; render(); } });

      // keyboard accessibility: â† â†’
      document.addEventListener('keydown', (e)=>{
        if (e.key === 'ArrowLeft'  && idx > 0) { idx--; render(); }
        if (e.key === 'ArrowRight' && idx < pairs.length - 1) { idx++; render(); }
      });

      render();
    })();
  </script>

</body>
</html>
